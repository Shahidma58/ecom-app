generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model accts_Mod {
  ac_no      Decimal  @id @db.Decimal(8, 0)
  old_ac_no  String   @db.VarChar(8)
  ac_gl      Decimal  @db.Decimal(5, 0)
  ac_title   String   @db.VarChar(35)
  ac_contact String   @db.VarChar(35)
  ac_addr    String   @db.VarChar(35)
  nt_no      String?  @db.VarChar(15)
  gst_no     String?  @db.VarChar(15)
  curr_bal   Decimal  @db.Decimal(12, 2)
  yy_op_bal  Decimal  @db.Decimal(12, 2)
  ac_stat    String?  @db.VarChar(15)
  inp_by     String   @db.VarChar
  inp_dt     DateTime @default(now()) @db.Timestamp(6)

  // Relation to gen_ledg_Mod
  generalLedger gen_ledg_Mod @relation(fields: [ac_gl], references: [gl_cd])

  @@map("accounts")
}

model brands_Mod {
  brand_code Int
  brand_name String   @id @db.VarChar(25)
  logo_lnk   String?  @db.VarChar
  inp_by     String?  @db.VarChar
  inp_dt     DateTime @default(now()) @db.Timestamptz(6)

  @@map("brands")
}

model faqs_Mod {
  id        BigInt @id @default(autoincrement())
  ques_chun String @db.VarChar
  ans_wer   String @db.VarChar

  @@map("faqs")
}

model Fin_Tran_Mod {
  trn_id      String   @db.VarChar(20)
  trn_serl    Int
  brn_cd      Int
  ac_no       Decimal  @db.Decimal(12, 0)
  trn_desc    String
  dr_cr       String   @db.VarChar
  trn_amt     Decimal  @db.Decimal(12, 2)
  trn_flag    String
  inp_by      String
  inp_dt      DateTime @default(now()) @db.Timestamp(6)
  trn_date    DateTime @db.Date
  gl_cd       Decimal? @db.Decimal(5, 0)
  ac_curr_bal Decimal  @db.Decimal(12, 2)

  @@id([trn_id, trn_serl])
  @@map("fin_tran")
}

model gen_ledg_Mod {
  gl_cd    Decimal   @id @db.Decimal
  gl_desc  String
  gl_sdesc String?
  gl_cat   String
  gl_type  String    @db.VarChar
  gl_stat  String
  inp_by   String
  inp_dt   DateTime? @default(now()) @db.Timestamp(6)
  // Relation to accts_Mod
  accounts   accts_Mod[]
  @@map("gen_ledg")
}

model gl_bals_Mod {
  gl_cd     Decimal   @id @db.Decimal(5, 0)
  brn_cd    Decimal   @db.Decimal(3, 0)
  yy_op_bal Decimal   @db.Decimal(15, 2)
  curr_bal  Decimal   @db.Decimal(15, 2)
  inp_by    String
  inp_dt    DateTime? @default(now()) @db.Timestamp(6)

  @@map("gl_bals")
}

model gl_bals_hist_Mod {
  gl_cd       Decimal  @db.Decimal(5, 0)
  brn_cd      Decimal  @db.Decimal(3, 0)
  trn_dt      DateTime @db.Date
  curr_bal    Decimal  @db.Decimal(15, 2)
  today_mvmnt Decimal  @db.Decimal(15, 2)

  @@id([gl_cd, brn_cd, trn_dt])
  @@map("gl_bals_hist")
}

//======================  GL Views ==================
model gen_ledg_bals_vw_Mod {
  brn_cd     Int
  gl_cd      Int
  gl_desc    String
  gl_stat    String
  yy_op_bal  Decimal   @db.Decimal(15, 2)
  curr_bal   Decimal   @db.Decimal(15, 2)
  inp_by     String
  inp_dt     DateTime

  @@id([brn_cd, gl_cd])
  @@map("gen_ledg_bals_vw")
}

model prod_categ_Mod {
  cat_cd   String   @id @db.VarChar
  cat_desc String   @db.VarChar
  inp_by   String   @db.VarChar
  inp_dt   DateTime @default(now()) @db.Timestamptz(6)

  @@map("prod_categ")
}

model prod_info_Mod {
  prd_cd      Decimal   @id @db.Decimal(15, 0)
  brn_cd      Int
  prd_qoh     BigInt
  prd_re_ord  BigInt
  max_rsp     Decimal   @db.Decimal(12, 0)
  min_rsp     Decimal   @db.Decimal(12, 0)
  tax_pct     Int?
  pur_prc     Decimal   @db.Decimal(12, 2)
  exp_dt      DateTime? @db.Date
  disc_amt    BigInt?
  disc_pct    Int?
  disc_st_dt  DateTime? @db.Date
  disc_end_dt DateTime? @db.Date
  prd_lot_ref String?   @db.VarChar
  max_pur_qty Int?
  inp_by      String    @db.VarChar
  inp_dt      DateTime  @default(now()) @db.Timestamp(6)

  @@map("prod_info")
}

/// READ-ONLY VIEW
model products_vw {
  brn_cd      Int
  prd_cd      Decimal  @db.Decimal(15, 0)

  bar_cd      String   @db.VarChar(20)
  prd_desc    String   @db.VarChar(35)
  prd_sku     String   @db.VarChar(5)
  prd_img_lnk String?  @db.VarChar(50)

  prd_cat     Int?
  prd_brand   Int?

  max_rsp     Decimal  @db.Decimal(12, 0)
  min_rsp     Decimal  @db.Decimal(12, 0)
  tax_pct     Int?

  pur_prc     Decimal  @db.Decimal(12, 2)

  prd_qoh     BigInt
  prd_re_ord  BigInt

  disc_amt    BigInt?
  disc_pct    Int?

  disc_st_dt  DateTime? @db.Date
  disc_end_dt DateTime? @db.Date
  exp_dt      DateTime? @db.Date

  prd_stat    Boolean

  inp_by      String   @db.VarChar(15)
  inp_dt      DateTime @db.Timestamp(6)

  @@id([brn_cd, prd_cd])
  @@map("products")
}

model sales_batch_Mod {
  sal_id    String   @id @db.VarChar(20)
  brn_cd    Int
  sal_dt    DateTime @db.Date
  sal_mbl   Decimal? @db.Decimal(15, 0)
  sal_amt   Decimal  @db.Decimal(12, 2)
  sal_items Decimal  @db.Decimal(12, 2)
  sal_qty   Decimal  @db.Decimal(12, 2)
  inp_by    String   @db.VarChar
  inp_dt    DateTime @default(now()) @db.Timestamptz(6)
  sal_disc  Decimal  @db.Decimal(12, 2)

  @@map("sales_batch")
}

model sales_batch_hist_Mod {
  sal_id    String   @id @db.VarChar(20)
  sal_dt    DateTime @db.Date
  sal_mbl   Decimal? @db.Decimal(15, 0)
  brn_cd    Int
  sal_amt   Decimal  @db.Decimal(12, 2)
  sal_items Decimal  @db.Decimal(12, 2)
  sal_qty   Decimal  @db.Decimal(12, 2)
  inp_by    String   @db.VarChar
  inp_dt    DateTime @default(now()) @db.Timestamptz(6)
  sal_disc  Decimal  @db.Decimal(12, 2)
}

model sales_detl_Mod {
  sal_id   String   @db.VarChar(20)
  itm_cd   Decimal  @db.Decimal
  itm_desc String   @db.VarChar(35)
  itm_qty  Decimal  @db.Decimal(18, 2)
  itm_rsp  Decimal  @db.Decimal(18, 2)
  itm_disc Decimal  @db.Decimal(18, 2)
  itm_tax  Decimal  @db.Decimal(18, 2)
  itm_amt  Decimal  @db.Decimal(18, 2)
  itm_stat String   @db.Char(1)
  itm_cost Decimal? @db.Decimal(18, 2)
  inp_dt   DateTime @default(now()) @db.Timestamptz(6)

  @@id([sal_id, itm_cd], map: "sales_tran_pkey")
  @@map("sales_detl")
}

model sales_detl_hist_Mod {
  sal_id   String   @db.VarChar(20)
  itm_cd   Decimal  @db.Decimal
  itm_desc String   @db.VarChar(35)
  itm_qty  Decimal  @db.Decimal(18, 2)
  itm_rsp  Decimal  @db.Decimal(18, 2)
  itm_disc Decimal  @db.Decimal(18, 2)
  itm_tax  Decimal  @db.Decimal(18, 2)
  itm_amt  Decimal  @db.Decimal(18, 2)
  itm_stat String   @db.Char(1)
  itm_cost Decimal? @db.Decimal(18, 2)
  inp_dt   DateTime @default(now()) @db.Timestamptz(6)

  @@id([sal_id, itm_cd], map: "sales_tran_hist_pkey")
  @@map("sales_detl_hist")
}

model tran_seq_Mod {
  trn_dt  Decimal  @db.Decimal
  brn_cd  Decimal  @db.Decimal(3, 0)
  trn_seq Decimal  @db.Decimal
  inp_dt  DateTime @default(now()) @db.Timestamptz(6)
  mod_id  String

  @@id([trn_dt, mod_id, brn_cd])
  @@map("tran_seq")
}

model Users_Mod {
  usr_id     String    @id @db.VarChar
  usr_name   String    @db.VarChar
  usr_email  String    @db.VarChar
  usr_mbl    String?   @unique @db.VarChar
  pswd_hash  String?   @db.VarChar
  brn_cd     Int
  role_id    String
  last_login DateTime? @db.Timestamptz(6)
  usr_stat   String?
  inp_dt     DateTime  @default(now()) @db.Timestamptz(6)
  inp_by     String?   @db.VarChar

  @@map("users")
}

model prod_mast_Mod {
  prd_cd      Decimal  @id @db.Decimal(15, 0)
  bar_cd      String   @db.VarChar(20)
  prd_desc    String   @db.VarChar(35)
  prd_sku     String   @db.VarChar(5)
  prd_img_lnk String?  @db.VarChar(50)
  prd_cat     Int?
  prd_brand   Int?
  prd_stat    Boolean
  inp_by      String   @db.VarChar(15)
  inp_dt      DateTime @default(now()) @db.Timestamp(6)

  @@index([bar_cd], map: "idx_prod_mast")
  @@map("prod_mast")
}


model Ec_Cart_Items_Mod {
  prd_cd       Decimal  @db.Decimal
  prd_qty      Decimal  @db.Decimal
  prd_rsp      Decimal  @db.Decimal
  prd_img_lnk  String   @db.VarChar
  prd_desc     String   @db.VarChar
  tot_amt      Decimal  @db.Decimal
  inp_dt       DateTime @default(now()) @db.Timestamptz(6)
  cart_id      Decimal  @db.Decimal
  cart_id_serl Decimal  @db.Decimal
  tax_amt      Decimal? @db.Decimal

  @@id([cart_id, cart_id_serl])
  @@map("ec_cart_items")
}

model Ec_Carts_Mod {
  cust_mbl    String   @db.VarChar
  cart_id     Decimal  @db.Decimal
  cust_email  String?  @db.VarChar
  cust_fname  String   @db.VarChar
  cust_lname  String   @db.VarChar
  cust_addr_1 String   @db.VarChar
  cust_addr_2 String   @db.VarChar
  cust_city   String   @db.VarChar
  cust_ctry   String   @db.VarChar
  tot_amt     Decimal  @db.Decimal
  tot_tax     Decimal  @db.Decimal
  tot_itms    BigInt
  cart_stat   String   @db.VarChar
  inp_dt      DateTime @default(now()) @db.Timestamptz(6)
  dlvy_chgs   Decimal  @db.Decimal
  cust_comp   String?  @db.VarChar
  inp_by      String   @db.VarChar

  @@id([cust_mbl, cart_id])
  @@map("ec_carts")
}

model app_info {
  app_name  String   @id @db.VarChar
  app_cat   String   @db.VarChar
  disp_seq  BigInt
  app_type  String?  @db.VarChar
  app_title String   @db.VarChar
  app_color String   @db.VarChar
  app_link  String?  @db.VarChar
  app_desc  String   @db.VarChar
  app_img   String?  @db.VarChar
  inp_by    String?  @db.VarChar
  inp_dt    DateTime @default(now()) @db.Timestamptz(6)
}

model app_params {
  id         BigInt    @id @default(autoincrement())
  created_at DateTime  @default(now()) @db.Timestamptz(6)
  expire_at  DateTime? @db.Timestamp(6)
  msg        String?
}

model app_prods {
  img_lnk    String   @db.VarChar
  img_text   String   @db.VarChar
  created_at DateTime @default(now()) @db.Timestamptz(6)
  id         BigInt   @id @default(autoincrement())
  ban_id     String?  @db.VarChar
  img_text_1 String?  @db.VarChar
  prd_cat    String?  @db.VarChar
}

model cart_seq {
  cart_dt    Decimal  @id @db.Decimal
  cart_no    Decimal  @db.Decimal
  created_at DateTime @default(now()) @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model gl_bals_hiswrk {
  gl_cd       Decimal?  @db.Decimal(5, 0)
  brn_cd      Decimal?  @db.Decimal(3, 0)
  buss_dt     DateTime? @db.Date
  curr_bal    Decimal?  @db.Decimal(15, 2)
  today_mvmnt Decimal?  @db.Decimal(15, 2)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model mig_brands {
  brnd_code String? @db.VarChar(20)
  brnd_name String? @db.VarChar(35)
  new_code  BigInt?

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.


/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.

model purch_batch_Mod {
  pur_id   String  @id @db.VarChar(20)
  brn_cd   Int
  vnd_id   Int
  tot_itms Int
  tot_qty  Int
  tot_amt  Decimal  @db.Decimal(14,2)
  amt_paid Decimal? @db.Decimal(14,2)
  amt_cr   Decimal? @db.Decimal(14,2)
  inp_by   String
  inp_dt   DateTime  @default(now()) @db.Timestamp(6)
  pur_dt   DateTime @db.Date
  @@map("purch_batch")
}

model purch_detl_Mod {
  pur_id      String    @db.VarChar(20)
  pur_id_serl Int
  prd_cd      Decimal   @db.Decimal(18, 0)
  brn_cd      Decimal   @db.Decimal(3, 0)
  prd_desc    String
  pur_qty     Decimal   @db.Decimal(12, 0)
  pur_prc     Decimal   @db.Decimal(12, 2)
  new_rsp     Decimal?  @db.Decimal(12, 2)
  cur_rsp     Decimal   @db.Decimal(12, 2)
  cur_pur_prc Decimal?  @db.Decimal(12, 2)
  pur_dt      DateTime? @default(now()) @db.Date
  itm_tot_amt Decimal?  @db.Decimal(12, 2)
  tax_amt     Decimal?  @db.Decimal(12, 2)
  inp_by      String
  inp_dt      DateTime? @default(now()) @db.Timestamp(6)

  @@id([pur_id, pur_id_serl])
  @@map("purch_detl")
}

model sales_info_Mod {
  prd_cd      Decimal   @id(map: "prod_priices_pkey") @db.Decimal
  max_rsp     Decimal   @db.Decimal
  tax_amt     Decimal   @db.Decimal
  disc_amt    Decimal   @db.Decimal
  net_rsp     Decimal   @db.Decimal
  inp_by      String    @db.VarChar
  created_at  DateTime  @default(now()) @db.Timestamptz(6)
  disc_st_dt  DateTime? @db.Date
  disc_end_dt DateTime? @db.Date
  avg_pur_prc Decimal?  @db.Decimal
  qoh         Decimal?  @db.Decimal
  pur_qty     Decimal?  @db.Decimal
  new_pur_prc Decimal?  @db.Decimal
  min_rsp     Decimal?  @db.Decimal
  cur_avg_pp  Decimal?  @db.Decimal
}

model user_apps {
  Usr_Id      String   @db.VarChar
  App_Name    String   @db.VarChar
  Last_Upd_By String   @db.VarChar
  created_at  DateTime @default(now()) @db.Timestamptz(6)

  @@id([Usr_Id, App_Name])
}

model user_pswd {
  usr_id       String   @id @db.VarChar
  pswd_chng_dt DateTime @db.Timestamp(6)
  pswd_tries   Int      @db.SmallInt
  created_at   DateTime @default(now()) @db.Timestamptz(6)
  usr_pswd     Decimal? @db.Decimal
}
